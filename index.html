<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patrick Feeney Design</title>
    <meta name="description" content="Join the GAZE INTERNATIONAL LGBTQIA FILM FESTIVAL for a celebration of queer cinema.">
    <link rel="icon" href="path/to/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="https://use.typekit.net/opq3sul.css">
    <link rel="stylesheet" href="https://use.typekit.net/kyu3tgb.css">
    <link rel="stylesheet" href="styles.css">
    <!-- Add Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-XXXXX-Y"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-XXXXX-Y');
    </script>
</head>
<body>
    <!-- SKIP TO CONTENT -->
    <a href="#maincontent" role="link" tabindex="0" class="skip-link">GAZE International L G B T Q I A Film Festival Home Page, press enter to skip to main content or press tab to continue.</a>
    <!-- Main Title -->
    <header tabindex="0" aria-label="Home Button" class="firstpage">
        <a href="index.html" style="display: inline-block; cursor: pointer;">
            <img class="mobilehide" src="img/title.gif">
            <img class="desktophide" src="img/title.gif">
        </a>
    </header>
    <!-- BUTTON TOGGLE MENU -->
    <button class="menu-toggle" class="pageone" tabindex="0" aria-haspopup="true" aria-expanded="false" aria-label="The main menu is now open, press tab to navigate"></button>
    <!-- Menu -->
    <nav>
        <ul>
            <li class="dropdown" tabindex="0" aria-label="Main Menu Header, About">
                <a href="#" aria-haspopup="true" aria-expanded="false" role="button">About</a>
                <ul class="dropdown-content">
                    <li tabindex="0" aria-label=" Who are we?" role="button"><a href="about.html">Who am I?</a></li>
                    <li tabindex="0" aria-label=" Who are we?" role="button"><a href="mailto:patfeeney1098@gmail.com">Contact Me</a></li>
                </ul>
            </li>
                <!--            <li class="dropdown" tabindex="0" aria-label="main menu, Programme of events">
                <a href="#" aria-haspopup="true" aria-expanded="false" role="button">Digital</a>
                <ul class="dropdown-content">
                    <li tabindex="0" aria-label=" view Films showing on Sunday the 5th of August" role="button"><a href="index.html">Alan Turing Institute</a></li>
                    <li tabindex="0" aria-label=" view Films showing on Thursday the 2nd of August" role="button"><a href="fat.html">Fat Of The Land</a></li>
                </ul>
            </li>
            <li class="dropdown" tabindex="0" aria-label="main menu, Programme of events">
                <a href="#" aria-haspopup="true" aria-expanded="false" role="button">Print</a>
                <ul class="dropdown-content">
                    <li tabindex="0" aria-label=" View timetable" role="button"><a href="Timetable.html">GAZE Film Fest</a></li>
                    <li tabindex="0" aria-label=" view Films showing on Thursday the 2nd of August" role="button"><a href="Thursday.html">CATU</a></li>
                </ul>
            </li>        
            <li class="dropdown" tabindex="0" aria-label="main menu, Programme of events">
                <a href="#" aria-haspopup="true" aria-expanded="false" role="button">Experience</a>
                <ul class="dropdown-content">
                    <li tabindex="0" aria-label=" view Films showing on Friday the 3rd of August" role="button"><a href="index.html">Trust Fall</a></li>
                    <li tabindex="0" aria-label=" view Films showing on Saturday the 4th of August" role="button"><a href="index.html">Political Material</a></li>
                </ul>
            </li>  -->
  
        </ul>
    </nav>
    <!-- Main Body -->
    <main id="maincontent">

        <section class="backgroundimg" aria-label="A distorted, image of a person in a striped shirt with wet hair and a blue tongue.">
        </section>

        <section class="pink">
            <p tabindex="0" role="heading"><a>print</a> + <a>digital</a> + <a>experience</a></p>
        </section>

        <div class="gallery">
            <!-- Example with 25 linked images (5x5 grid) -->
            <div tabindex="0" class="keydown">
                <a role="link" class="image-container" >
                    <img src="img/newtennant.png" alt="Backspot">
                    <div class="overlay"><span><strong>The New Tennant</strong><br><em>CATU Tennants Union</em> <br>Broadsheet Print Design</span></div>
                </a>
            </div> 
            <div tabindex="0" class="keydown">
                <a role="link" class="image-container" >
                    <img src="img/GAZE_01.png" alt="Backspot">
                    <div class="overlay"><span><strong>GAZE</strong><br><em>International LGBTQIA Film Festival</em> <br>Full Brand Identity</span></div>
                </a>
                <div tabindex="0" class="keydown">
                    <a role="link" class="image-container">
                        <img src="img/Slide1.jpeg" alt="Backspot">
                        <div class="overlay"><span><strong>Trust Fall</strong><br><em>Accenture</em> <br>Experience Design</span></div>
                    </a>
                </div>  
                </div> 
                <div tabindex="0" class="keydown">
                    <a role="link"  class="image-container" >
                        <img src="img/GAZE-Poster-2021-81.png" alt="Backspot">
                        <div class="overlay"><span><strong>GAZE</strong><br><em>International LGBTQIA Film Festival</em> <br>Poster Design</span></div>
                    </a>
                </div> 
                <div tabindex="0" class="keydown">
                    <a role="link"  class="image-container">
                        <img src="img/Slide12.jpeg" alt="Backspot">
                        <div class="overlay"><span><strong>Trust Fall</strong><br><em>Accenture</em> <br>Experience Design</span></div>
                    </a>
                </div>                
                 <div tabindex="0" class="keydown">
                    <a role="link"  class="image-container">
                        <img src="img/Portfolio-test-spread3-2.jpg" alt="Backspot">
                        <div class="overlay"><span><strong>Publication</strong><br><em>Self Directed</em> <br>Print Design</span></div>
                    </a>
                </div> 
                <div tabindex="0" class="keydown">
                    <a role="link"  class="image-container" >
                        <img src="img/Final-Wall-4.jpg" alt="Backspot">
                        <div class="overlay"><span><strong>Political Material</strong><br><em>Graduate Exhibition</em> <br>Experience Design</span></div>
                    </a>
                </div> 
                <div tabindex="0" class="keydown">
                    <a role="link" class="image-container" >
                        <img src="img/catu02.png" alt="Backspot">
                        <div class="overlay"><span><strong>The New Tennant</strong><br><em>CATU Tennants Union</em> <br>Broadsheet Print Design</span></div>
                    </a>
                </div> 
                <div tabindex="0" class="keydown">
                    <a role="link"  class="image-container" >
                        <img src="img/alan.png" alt="Backspot">
                        <div class="overlay"><span><strong>Responsible AI Course</strong><br><em>Alan Turing Institute</em> <br>Identity</span></div>
                    </a>
                </div> 
                <div tabindex="0" class="keydown">
                    <a role="link"  class="image-container">
                        <img src="img/Slide10.jpeg" alt="Backspot">
                        <div class="overlay"><span><strong>Trust Fall</strong><br><em>Accenture</em> <br>Experience Design</span></div>
                    </a>
                </div> 

                <div tabindex="0" class="keydown">
                    <a role="link"  class="image-container" >
                        <img src="img/newspaper2.jpg" alt="Backspot">
                        <div class="overlay"><span><strong>Daily Metaverse</strong><br><em>Accenture</em> <br>Print Design</span></div>
                    </a>
                </div> 
                <div tabindex="0" class="keydown">
                    <a role="link"  class="image-container" >
                        <img src="img/Toolkits_02.gif" alt="Backspot">
                        <div class="overlay"><span><strong>Cast Of Characters</strong><br><em>Alan Turing Institute</em> <br>Printed Cards + Interactive Deck</span></div>
                    </a>
                </div> 

                <div tabindex="0" class="keydown">
                    <a role="link"  class="image-container" >
                        <img src="img/gaze24img.png" alt="Backspot">
                        <div class="overlay"><span><strong>GAZE</strong><br><em>Film Festival</em> <br>Identity</span></div>
                    </a>
                </div> 
                <div tabindex="0" class="keydown">
                    <a role="link"  class="image-container" >
                        <img src="img/Final-render-New-Flag-2draft-2.png" alt="Backspot">
                        <div class="overlay"><span><strong>Covid Flags</strong><br><em>Dublin City Council</em> <br>Public Installation + 3D Moddeling</span></div>
                    </a>
                </div> 
                <div tabindex="0" class="keydown">
                    <a role="link"  class="image-container">
                        <img src="img/Slide8.jpeg" alt="Backspot">
                        <div class="overlay"><span><strong>Trust Fall</strong><br><em>Accenture</em> <br>Experience Design</span></div>
                    </a>
                </div> 
                <div tabindex="0" class="keydown">
                    <a role="link"  class="image-container" >
                        <img src="img/newspaper1.jpg" alt="Backspot">
                        <div class="overlay"><span><strong>Daily Metaverse</strong><br><em>Accenture</em> <br>Print Design</span></div>
                    </a>
                </div> 
                <div tabindex="0" class="keydown">
                    <a role="link"  class="image-container">
                        <img src="img/IMG_8530-3.JPG" alt="Backspot">
                        <div class="overlay"><span><strong>GAZE</strong><br><em>Film Festival</em> <br>Merchandise</span></div>
                    </a>
                </div> 
                <div tabindex="0" class="keydown">
                    <a role="link"  class="image-container">
                        <img src="img/fat.png" alt="Backspot">
                        <div class="overlay"><span><strong>Fat Of The Land</strong><br><em>Student Project</em> <br>Web Development</span></div>
                    </a>
                </div> 


        </div> 

    </main>
    <!-- Footer -->
    <footer>
        <div class="social-icons">
            <a href="https://www.instagram.com/patrickfeeneydesigner/" target="_blank" aria-label="Instagram" role="link">
                <img src="img/instagram-icon.png" alt="Link to Instagram page" tabindex="0">
            </a>
            <a href="mailto:patfeeney1098@gmail.com" target="_blank" aria-label="Email" role="link">
                <img src="img/email.png" alt="Email Me" tabindex="0">
            </a>
        </div>
        <div class="footer-text">
            &copy; Patrick Feeney Design 2024 | All rights reserved
        </div>
    </footer>
   <script>
    
    document.addEventListener('DOMContentLoaded', function() {
    const nav = document.querySelector('nav, nav.li');
    const toggleButton = document.querySelector('.menu-toggle');
    const dropdowns = document.querySelectorAll('.dropdown');
    const cursor = createCustomCursor();

    if (window.matchMedia("(min-width: 768px)").matches) {
        const cursor = createCustomCursor();
        setupCustomCursor(cursor);
        setupDropdowns(dropdowns);
        setupMenuToggle(document.querySelector('.menu-toggle'), document.querySelector('nav'));
    }
    setupDropdownZZ(dropdowns);
    setupAccessibility();
    initializeParallaxEffects();

});

function createCustomCursor() {
    const cursor = document.createElement('div');
    cursor.classList.add('custom-cursor');
    document.body.appendChild(cursor);
    return cursor;
}

function setupCustomCursor(cursor) {
    document.addEventListener('mousemove', (e) => {
        cursor.style.left = `${e.clientX}px`;
        cursor.style.top = `${e.clientY}px`;
    });

    document.querySelectorAll('a, button, input').forEach(element => {
        element.addEventListener('mouseenter', () => cursor.classList.add('hovered'));
        element.addEventListener('mouseleave', () => cursor.classList.remove('hovered'));
    });
}

// NAV FOCUS SETUP
function setupFocusWithinNav(nav) {
    const focusableElements = nav.querySelectorAll('a, button, li, input'); // Extend this selector to include other focusable elements if needed
    focusableElements.forEach(element => {
        element.addEventListener('focus', openMenu);
    });
}

function setupMenuToggle(toggleButton, nav) {
    let closeMenuTimeout;

    // Function to open the menu
    function openMenu() {
        clearTimeout(closeMenuTimeout); // Clear any pending close command
        nav.style.left = '0vw';
        nav.style.opacity = '1';
        toggleButton.setAttribute('aria-expanded', 'true');
        toggleButton.classList.add('expanded');
    }

    // Function to close the menu
    function closeMenu() {
        clearTimeout(closeMenuTimeout); // Clear any pending open command to prevent conflicts
        closeMenuTimeout = setTimeout(() => {
            nav.style.left = '-20vw';
            nav.style.opacity = '0';
            toggleButton.setAttribute('aria-expanded', 'false');
            toggleButton.classList.remove('expanded');
        }, 1500); // Correct delay to 2000 milliseconds
    }

    // Toggle menu on click
     // toggleButton.addEventListener('click', function() {
     //    let isOpen = toggleButton.getAttribute('aria-expanded') === 'true';
     //    if (isOpen) {
     //        closeMenu();
     //    } else {
     //        openMenu();
     //    }
     // });

    // Open menu on focus
    toggleButton.addEventListener('focus', openMenu);

    // Hover events
    toggleButton.addEventListener('mouseenter', openMenu);
    // Only close the menu when leaving both button and nav area
    toggleButton.addEventListener('mouseleave', function(event) {
        if (!nav.contains(event.relatedTarget)) {
            closeMenu();
        }
    });
    nav.addEventListener('mouseleave', function(event) {
        if (!toggleButton.contains(event.relatedTarget)) {
            closeMenu();
        }
    });

    // Ensure keyboard accessibility
    toggleButton.addEventListener('keydown', function(event) {
        if (event.key === 'Enter' || event.key === ' ') {
            event.preventDefault(); // Stop default action
            toggleButton.click(); // Simulate click for keyboard
        }
    });
}

function setupDropdowns(dropdowns) {
    dropdowns.forEach(dropdown => {
        const mainLink = dropdown.querySelector('a:first-child');
        const dropdownContent = dropdown.querySelector('.dropdown-content');
        const dropdownLinks = dropdown.querySelectorAll('li');

        mainLink.addEventListener('click', function(event) {
            event.preventDefault();
            const isExpanded = dropdownContent.style.maxHeight !== '';
            mainLink.setAttribute('aria-expanded', isExpanded ? 'false' : 'true');
            dropdownContent.style.maxHeight = isExpanded ? '' : dropdownContent.scrollHeight + 'px';
        });

        document.addEventListener('click', function(event) {
            if (!dropdown.contains(event.target)) {
                mainLink.setAttribute('aria-expanded', 'false');
                dropdownContent.style.maxHeight = '';
            }
        });

        // Adding key press event for dropdown items
        dropdownLinks.forEach(item => {
            item.addEventListener('keydown', function(event) {
                if (event.key === 'Enter') {
                    event.preventDefault();
                    const link = item.querySelector('a');
                    if (link) {
                        link.click();
                    }
                }
            });
        });
        
    });
}


// MOBILE
function setupDropdownZZ(dropdowns) {
    dropdowns.forEach(dropdown => {
        const mainLink = dropdown.querySelector('a:first-child');
        const dropdownContent = dropdown.querySelector('.dropdown-content');

        mainLink.addEventListener('click', function(event) {
            if (window.innerWidth <= 768) {
                event.preventDefault(); // Prevent navigation
                const isExpanded = dropdownContent.style.maxHeight !== '';
                mainLink.setAttribute('aria-expanded', isExpanded ? 'false' : 'true');
                dropdownContent.style.maxHeight = isExpanded ? '' : dropdownContent.scrollHeight + 'px';
            }
        });

        // Clicking outside to close dropdown
        document.addEventListener('click', function(event) {
            if (!dropdown.contains(event.target)) {
                mainLink.setAttribute('aria-expanded', 'false');
                dropdownContent.style.maxHeight = '';
            }
        });
    });
}

function setupAccessibility() {
    // Enhance accessibility for keyboard navigation
    document.querySelector('header').addEventListener('keydown', (event) => {
        if (event.key === "Enter" || event.keyCode === 13) {
            const link = event.target.querySelector('a');
            if (link) {
                link.click();
            }
        }
    });
}

function initializeParallaxEffects() {
    if (window.innerWidth > 768) {
        applyParallaxEffect();
    }
    window.addEventListener('resize', () => {
        if (window.innerWidth > 768) {
            applyParallaxEffect();
        } else {
            resetParallaxEffect();
        }
    });
}

function applyParallaxEffect() {
    document.addEventListener('scroll', () => {
        const backgrounds = [
            { element: document.querySelector('.backgroundimg'), startScroll: 100 },
            { element: document.querySelector('.animate'), startScroll: 0 },
            { element: document.querySelector('.backgroundimg2'), startScroll: 700 },
            { element: document.querySelector('.backgroundimg3'), startScroll: 2000 }
        ];

        backgrounds.forEach(bg => {
            if (bg.element) {
                const scrollPosition = window.pageYOffset;
                const scale = scrollPosition > bg.startScroll ? 1 + (scrollPosition - bg.startScroll) * 0.0001 : 1;
                bg.element.style.transform = `scale(${scale})`;
            }
        });
    });
}

function resetParallaxEffect() {
    const backgrounds = [document.querySelector('.backgroundimg'), document.querySelector('.animate'), document.querySelector('.backgroundimg2'), document.querySelector('.backgroundimg3')];
    backgrounds.forEach(bg => {
        if (bg) {
            bg.style.transform = 'scale(1)';
        }
    });
}
</script>
</body>
</html>
